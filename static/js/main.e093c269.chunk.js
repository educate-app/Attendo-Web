(this["webpackJsonpattento-client"]=this["webpackJsonpattento-client"]||[]).push([[0],{43:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(10),s=c.n(n),j=c(24),a=c.n(j),r=c(11),l=(c(43),c(12)),d=c(3),i=function(e){var t=e.onCreate,c=Object(n.useState)(""),s=Object(r.a)(c,2),j=s[0],a=s[1],i=Object(l.e)();return Object(d.jsxs)("div",{className:"new-lecture",children:[Object(d.jsx)("label",{className:"heading",children:"Create new lecture"}),Object(d.jsxs)("div",{className:"input-btn",children:[Object(d.jsx)("input",{type:"text",value:j,onChange:function(e){return a(e.target.value)},className:"new-lec",placeholder:"Enter Lecture Name    ex. CSE1/lec2/March/14"}),Object(d.jsx)("button",{onClick:function(){var e=Object(l.c)(i,"classes");console.log(document.id),Object(l.b)(e,{name:j,live:!0,createdOn:l.a.now(),attendees:{}}).then((function(e){console.log(e),t(j,e.id)}))},children:" Create Class"})]})]})},b=Object(n.forwardRef)((function(e,t){var c=s.a.useState(!1),j=Object(r.a)(c,2),l=j[0],i=j[1];Object(n.useImperativeHandle)(t,(function(){return{openModal:function(){return b()},close:function(){return o()}}}));var b=function(){i(!0)},o=function(){i(!1)};return l?a.a.createPortal(Object(d.jsxs)("div",{className:"modal-wrapper",children:[Object(d.jsx)("div",{onClick:o,className:"modal-backdrop"}),Object(d.jsx)("div",{className:"modal-box",children:e.children})]}),document.getElementById("modal-root")):null})),o=c(38),O=function(e){var t=e.time,c=e.name,s=e.attendance,j=Object(n.useRef)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("td",{"data-column":"Date and Time",children:t.toDate().toLocaleString()}),Object(d.jsx)("td",{"data-column":"Lecture Name",children:c}),Object(d.jsx)("td",{"data-column":"Attendance",children:Object.keys(s).length}),Object(d.jsxs)("td",{children:[" ",Object(d.jsx)("button",{className:"view-btn",onClick:function(){j.current.openModal()},children:Object(d.jsx)(o.a,{})})]}),Object(d.jsxs)(b,{ref:j,children:[Object(d.jsx)("span",{className:"close",onClick:function(){return j.current.close()},children:"x"}),Object(d.jsx)("h1",{children:c}),Object(d.jsx)("h5",{children:t.toDate().toLocaleString()}),Object(d.jsx)("br",{}),Object(d.jsxs)("table",{children:[Object(d.jsxs)("thead",{children:[Object(d.jsx)("th",{children:"Enrollment No."}),Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Class"})]}),Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"1351351"}),Object(d.jsx)("td",{children:"Nihal Gupta"}),Object(d.jsx)("td",{children:"CSE - 2"})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"1351351"}),Object(d.jsx)("td",{children:"Nihal Gupta"}),Object(d.jsx)("td",{children:"CSE - 2"})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"1351351"}),Object(d.jsx)("td",{children:"Nihal Gupta"}),Object(d.jsx)("td",{children:"CSE - 2"})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"1351351"}),Object(d.jsx)("td",{children:"Nihal Gupta"}),Object(d.jsx)("td",{children:"CSE - 2"})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"1351351"}),Object(d.jsx)("td",{children:"Nihal Gupta"}),Object(d.jsx)("td",{children:"CSE - 2"})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"1351351"}),Object(d.jsx)("td",{children:"Nihal Gupta"}),Object(d.jsx)("td",{children:"CSE - 2"})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"1351351"}),Object(d.jsx)("td",{children:"Nihal Gupta"}),Object(d.jsx)("td",{children:"CSE - 2"})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"1351351"}),Object(d.jsx)("td",{children:"Nihal Gupta"}),Object(d.jsx)("td",{children:"CSE - 2"})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"1351351"}),Object(d.jsx)("td",{children:"Nihal Gupta"}),Object(d.jsx)("td",{children:"CSE - 2"})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"1351351"}),Object(d.jsx)("td",{children:"Nihal Gupta"}),Object(d.jsx)("td",{children:"CSE - 2"})]})]})]}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:function(){return j.current.close()},children:"Close Modal"})]})]})},h=function(){var e=Object(l.e)(),t=Object(n.useState)([]),c=Object(r.a)(t,2),s=c[0],j=c[1];return Object(n.useEffect)((function(){var t=Object(l.h)(Object(l.c)(e,"classes"),Object(l.g)("createdOn","desc"));Object(l.f)(t,(function(e){var t=[];e.docs.map((function(e){return t.push(e.data())})),j(t),console.log(e.docs.length)}))}),[]),console.log(s),Object(d.jsxs)("div",{className:"record",children:[Object(d.jsx)("span",{className:"heading",children:"Class Records"}),Object(d.jsx)("div",{className:"class-record",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Date and Time"}),Object(d.jsx)("th",{children:"Lecture Name"}),Object(d.jsx)("th",{children:"Attendance"}),Object(d.jsx)("th",{children:"View"})]})}),Object(d.jsx)("tbody",{children:s.map((function(e){return Object(d.jsx)("tr",{children:Object(d.jsx)(O,{time:e.createdOn,name:e.name,attendance:e.attendees},e.createdOn)})}))})]})})]})},u=c(8),x=c(36),m=c.n(x),p=(c(56),function(e){var t=e.lecName,c=e.lecID,s=e.onClose,j=Object(l.e)(),a=Object(n.useState)(""),i=Object(r.a)(a,2),b=i[0],o=i[1];function O(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".split(""),n=[],s=0;s<e;s++){var a=(Math.random()*(t.length-1)).toFixed(0);n[s]=t[a]}var r=n.join("");console.log(r);var d=Object(l.d)(Object(l.c)(j,"classes"),c);return Object(l.i)(d,Object(u.a)({},"attendees.".concat(r),{used:!1})),o(r),r}return Object(n.useEffect)((function(){var e=O(32),t=Object(l.c)(j,"classes");Object(l.f)(Object(l.d)(t,c),(function(t){var c=t.data();void 0!==c.attendees&&(void 0!==c.attendees[e]?(console.log("yes"),!0===c.attendees[e].used&&(e=O(32))):console.log("no"))}))}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)("h1",{children:["Attendo - ",t]})}),Object(d.jsx)("div",{className:"qrCode",children:Object(d.jsx)(m.a,{value:b})}),Object(d.jsx)("button",{onClick:function(){var e=Object(l.d)(Object(l.c)(j,"classes"),c);Object(l.i)(e,{live:!1}),s()},children:"End Class"})]})}),f=function(e){var t=e.log,c=e.setLog,s=Object(n.useState)([]),j=Object(r.a)(s,2),a=j[0],l=j[1];return a.length>0?Object(d.jsx)(p,{lecName:a[0],lecID:a[1],onClose:function(){l([])}}):Object(d.jsxs)("section",{className:"hero",children:[Object(d.jsxs)("nav",{children:[Object(d.jsx)("h2",{children:"Welcome, Sushil Kumar"}),Object(d.jsx)("button",{onClick:function(){return c(!t)},children:"Logout"})]}),Object(d.jsx)(i,{onCreate:function(e,t){l([e,t])}}),Object(d.jsx)("br",{}),Object(d.jsx)(h,{})]})},v=function(e){var t=Object(n.useState)(!1),c=Object(r.a)(t,2),s=c[0],j=c[1],a=e.email,l=e.setEmail,i=e.password,b=e.setPassword,o=e.log,O=e.setLog;return Object(d.jsx)("section",{className:"login",children:Object(d.jsxs)("div",{className:"loginContainer",children:[Object(d.jsx)("label",{children:"Email"}),Object(d.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:a,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)("label",{children:"Password"}),Object(d.jsx)("input",{type:"password",required:!0,value:i,onChange:function(e){return b(e.target.value)}}),s?Object(d.jsx)("p",{className:"err",children:"Error : Email or password is wrong"}):Object(d.jsx)("span",{}),Object(d.jsx)("div",{className:"btnContainer",children:Object(d.jsx)("button",{onClick:function(){"admin@school.com"===a&&"123456"===i?O(!o):s||j(!s)},children:"Sign in"})})]})})},g=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],s=t[1],j=Object(n.useState)(""),a=Object(r.a)(j,2),l=a[0],i=a[1],b=Object(n.useState)(!1),o=Object(r.a)(b,2),O=o[0],h=o[1];return Object(d.jsx)("div",{className:"App",children:O?Object(d.jsx)(f,{setLog:h,log:O}):Object(d.jsx)(v,{email:c,setEmail:s,password:l,setPassword:i,log:O,setLog:h})})},N=c(37);Object(N.a)({apiKey:"AIzaSyDN2-DkcxPFoSyAbkINJcZCCvtz7w0WdlE",authDomain:"attendo-41b02.firebaseapp.com",projectId:"attendo-41b02",storageBucket:"attendo-41b02.appspot.com",messagingSenderId:"57090708182",appId:"1:57090708182:web:af81dfc851bbcbf1dbef77",measurementId:"G-NDDGY879K5"}),a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.e093c269.chunk.js.map