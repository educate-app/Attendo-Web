{"version":3,"sources":["Create.js","Modal.js","Row.js","Record.js","Class.js","Hero.js","Login.js","App.js","index.js"],"names":["Create","onCreate","useState","lecName","setLecName","db","getFirestore","className","type","value","onChange","c","target","placeholder","onClick","collectionRef","collection","console","log","document","id","addDoc","name","live","createdOn","Timestamp","now","attendees","then","docRef","Modal","forwardRef","props","ref","React","display","setDisplay","useImperativeHandle","openModal","open","close","ReactDOM","createPortal","children","getElementById","Row","time","attendance","modalRef","useRef","Object","keys","k","toDate","toLocaleString","length","current","map","undefined","Record","data","setData","useEffect","q","query","orderBy","onSnapshot","d","arr","docs","push","Class","lecID","onClose","token","setToken","generate_token","a","split","b","i","j","Math","random","toFixed","join","doc","updateDoc","used","t","classesCol","Hero","setLog","currentLecName","setCurrentLecName","lecId","Login","error","setError","email","setEmail","password","setPassword","autoFocus","required","e","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","render","StrictMode"],"mappings":"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","file":"static/js/main.f3d6a1c6.chunk.js","sourcesContent":["import React, { useState } from 'react'\n\nimport { getFirestore, collection, addDoc, Timestamp } from 'firebase/firestore';\n\nconst Create = ({ onCreate }) => {\n    const [lecName, setLecName] = useState('');\n\n    const db = getFirestore();\n\n    return (\n        <div className=\"new-lecture\">\n\n            <label className=\"heading\">Create new lecture</label>\n            <div className=\"input-btn\">\n                <input type=\"text\" value={lecName} onChange={(c) => setLecName(c.target.value)} className=\"new-lec\" placeholder=\"Enter Lecture Name    ex. CSE1/lec2/March/14\" />\n                <button onClick={() => {// Lec create krna padega...\n                    var collectionRef = collection(db, 'classes');\n                    console.log(document.id);\n                    addDoc(collectionRef, {\n                        name: lecName,\n                        live: true,\n                        createdOn: Timestamp.now(),\n                        attendees: {}\n                    }).then((docRef) => {\n                        console.log(docRef);\n                        onCreate(lecName, docRef.id);\n                    });\n                }}> Create Class</button>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Create\n","import React, {forwardRef, useImperativeHandle} from \"react\";\nimport ReactDOM from \"react-dom\";\n\nconst Modal = forwardRef((props,ref) => {\n  const [display, setDisplay] = React.useState(false);\n\n  useImperativeHandle(ref, () => {\n    return {\n      openModal: () => open(),\n      close: () => close()\n    }\n  });\n\n  const open = () => {\n    setDisplay(true)\n  };\n\n  const close = () => {\n    setDisplay(false);\n  };\n\n  if (display) {\n    return ReactDOM.createPortal(\n      <div className={\"modal-wrapper\"}>\n        <div onClick={close} className={\"modal-backdrop\"} />\n        <div className={\"modal-box\"}>\n          {props.children}\n        </div>\n      </div>, document.getElementById(\"modal-root\"))\n  }\n\n  return null;\n\n});\n\nexport default Modal","import { useRef } from 'react'\nimport Modal from './Modal';\nimport { FaExternalLinkAlt } from \"react-icons/fa\";\n\nconst Row = ({ time, name, attendance }) => {\n\n    const modalRef = useRef();\n\n    const openModal = () => {\n        modalRef.current.openModal()\n    };\n\n    console.log('attendance: ', attendance);\n    for (let k of Object.keys(attendance)) {\n        if ((attendance[k]['used'] === false)) {\n            delete attendance[k];\n        }\n    }\n\n    return (\n        <>\n\n            <td data-column=\"Date and Time\">{time.toDate().toLocaleString()}</td>\n            <td data-column=\"Lecture Name\">{name}</td>\n            <td data-column=\"Attendance\">{Object.keys(attendance).length}</td>\n            <td > <button className=\"view-btn\" onClick={openModal}><FaExternalLinkAlt /></button></td>\n\n            <Modal ref={modalRef}>\n                <span className=\"close\" onClick={() => modalRef.current.close()}>x</span>\n                <h1>{name}</h1>\n\n                <h5>{time.toDate().toLocaleString()}</h5>\n                <br />\n                <table>\n                    <thead>\n                        <th>Enrollment No.</th>\n                        <th>Name</th>\n                        <th>Marked On</th>\n                    </thead>\n                    <tbody>\n                        {[...Object.keys(attendance)].map((k) => <tr>\n                            <td>{attendance[k]['studentEnr']}</td>\n                            <td>{attendance[k]['studentName']}</td>\n                            <td>{attendance[k]['markedOn'] !== undefined ? attendance[k]['markedOn'].toDate().toLocaleString() : ''}</td>\n                        </tr>)}\n                    </tbody>\n                </table>\n                <br />\n                <button onClick={() => modalRef.current.close()}>Close Modal</button>\n            </Modal>\n        </>\n    )\n}\n\nexport default Row\n","import { useEffect, useState } from 'react'\n\nimport { getFirestore, collection, orderBy, query, onSnapshot } from 'firebase/firestore';\n\nimport Row from './Row';\n\nconst Record = () => {\n    const db = getFirestore();\n    const [data, setData] = useState([]);\n\n    useEffect(() => {\n\n        var q = query(collection(db, 'classes'), orderBy('createdOn', 'desc'));\n        onSnapshot(q, (d) => {\n            var arr = [];\n            d.docs.map((d) => arr.push(d.data()));\n            setData(arr);\n            console.log(d.docs.length);\n        });\n\n    }, [])\n\n\n    console.log(data);\n\n    return (\n        <div className=\"record\">\n            <span className=\"heading\">Class Records</span>\n            <div className=\"class-record\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Date and Time</th>\n                            <th>Lecture Name</th>\n                            <th>Attendance</th>\n                            <th>View</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {data.map((d) =>\n                            <tr>\n                                <Row key={d['createdOn']} time={d['createdOn']} name = {d['name']} attendance={d['attendees']} />\n                            </tr>\n                        )}\n                        \n\n                    </tbody>\n                </table>\n                \n            </div>\n            \n\n        </div>\n    )\n}\n\nexport default Record\n","import { useState, useEffect } from \"react\";\nimport QRCode from \"react-qr-code\";\n\nimport { getDoc, getFirestore, collection, doc, onSnapshot, addDoc, updateDoc, Timestamp } from 'firebase/firestore';\n\nimport './class.css';\n\nconst Class = ({ lecName, lecID, onClose }) => {\n\n  const db = getFirestore();\n  const [token, setToken] = useState(\"\");\n\n  useEffect(() => {\n    var t = generate_token(32);\n    const classesCol = collection(db, 'classes');\n\n    onSnapshot(doc(classesCol, lecID), (doc) => {\n      var data = doc.data();\n      if (data['attendees'] !== undefined) {\n        if (data['attendees'][t] !== undefined) {\n          console.log('yes');\n          if (data['attendees'][t]['used'] === true) {\n            t = generate_token(32);\n          }\n        } else {\n          console.log('no');\n        }\n      }\n    });\n  }, []);\n\n  function generate_token(length) {\n    //edit the token allowed characters\n    var a = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890\".split(\"\");\n    var b = [];\n    for (var i = 0; i < length; i++) {\n      var j = (Math.random() * (a.length - 1)).toFixed(0);\n      b[i] = a[j];\n    }\n    var token = b.join(\"\");\n    console.log(token);\n    // Upload token to server.\n    const document = doc(collection(db, 'classes'), lecID);\n    updateDoc(document, {\n      [`attendees.${token}`]: {\n        used: false,\n      }\n    });\n    setToken(token);\n    return token;\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"header\">\n        <h1>Attendo - {lecName}</h1>\n      </div>\n      <div className=\"qrCode\">\n        <QRCode value={token} />\n      </div>\n\n      <button onClick={() => {\n        const document = doc(collection(db, 'classes'), lecID);\n        updateDoc(document, {\n          live: false,\n        });\n        onClose();\n      }}>End Class</button>\n    </div>\n  );\n}\n\nexport default Class;\n","import React, { useState } from 'react'\nimport Create from './Create'\nimport Record from './Record'\nimport Class from \"./Class\"\n\n\nconst Hero = ({ log, setLog }) => {\n\n\n    const [currentLecName, setCurrentLecName] = useState([]);\n\n    return currentLecName.length > 0 ? <Class lecName={currentLecName[0]} lecID={currentLecName[1]} onClose={() => {\n        setCurrentLecName([]);\n    }} /> : (\n        <section className=\"hero\">\n            <nav>\n                <h2>Welcome, Sushil Kumar</h2>\n                <button onClick={() => setLog(!log)}>Logout</button>\n            </nav>\n\n            <Create onCreate={(lecName, lecId) => {\n                setCurrentLecName([lecName, lecId]);\n            }} /><br />\n            <Record />          \n\n        </section>\n    )\n}\n\nexport default Hero\n\n","import { useState } from 'react'\nimport React from 'react'\n\n\nconst Login = (props) => {\n\n    const [error,setError] = useState(false)\n\n    const { email, setEmail, password, setPassword,log, setLog} = props\n    return (\n        <section className = \"login\">\n            <div className=\"loginContainer\">\n                <label>Email</label>\n                <input type=\"text\" autoFocus required value={email} onChange={(e) => setEmail(e.target.value)}/>\n\n\n                <label >Password</label>\n                <input type=\"password\" required value={password} onChange={(e) => setPassword(e.target.value)}/>\n\n    \n                {\n                    error ? (<p className = \"err\">Error : Email or password is wrong</p>) : (<span></span>)\n                }\n\n\n                <div className=\"btnContainer\">\n                    <button onClick = {() => {\n                        if(email === \"admin@school.com\" && password === \"123456\"){\n                            setLog(!log);\n                        } else {\n                            if(!error){\n                                setError(!error)\n                            }\n                \n                        }\n                    }}>Sign in</button>\n                </div>\n\n            </div>\n\n\n        </section>\n    )\n}\n\nexport default Login\n","import {useState} from \"react\"\nimport './App.css';\n// import Class from \"./Class\";\nimport Hero from \"./Hero\";\nimport Login from './Login.js';\n\n\n\n\nconst App = () => {\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [log, setLog] = useState(false)\n\n  \n  return (\n    <div className=\"App\">\n    {log ? (\n      <Hero setLog={setLog} log={log} />\n      // <Class lecID=\"z7eydjQbpZKGYQTtYdGX\" />\n    ):(\n      <Login email={email} setEmail={setEmail} password={password} setPassword = {setPassword} log={log} setLog= {setLog}/> \n    )\n    }\n      \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDN2-DkcxPFoSyAbkINJcZCCvtz7w0WdlE\",\n  authDomain: \"attendo-41b02.firebaseapp.com\",\n  projectId: \"attendo-41b02\",\n  storageBucket: \"attendo-41b02.appspot.com\",\n  messagingSenderId: \"57090708182\",\n  appId: \"1:57090708182:web:af81dfc851bbcbf1dbef77\",\n  measurementId: \"G-NDDGY879K5\"\n};\n\n// Initialize Firebase\ninitializeApp(firebaseConfig);\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}