{"version":3,"sources":["Create.js","Record.js","Class.js","Hero.js","Login.js","App.js","index.js"],"names":["Create","onCreate","useState","lecName","setLecName","db","getFirestore","className","type","value","onChange","c","target","placeholder","onClick","collectionRef","collection","console","log","document","id","addDoc","name","live","createdOn","Timestamp","now","attendees","then","docRef","Record","data","setData","useEffect","q","query","orderBy","onSnapshot","d","arr","docs","map","push","length","toDate","toLocaleString","Object","keys","Class","lecID","onClose","token","setToken","generate_token","a","split","b","i","j","Math","random","toFixed","join","doc","updateDoc","used","t","classesCol","undefined","Hero","setLog","currentLecName","setCurrentLecName","lecId","Login","props","error","setError","email","setEmail","password","setPassword","autoFocus","required","e","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cbc75629.chunk.js","sourcesContent":["import React, { useState } from 'react'\n\nimport { getFirestore, collection, addDoc, Timestamp } from 'firebase/firestore';\n\nconst Create = ({ onCreate }) => {\n    const [lecName, setLecName] = useState('');\n\n    const db = getFirestore();\n\n    return (\n        <div className=\"new-lecture\">\n\n            <label className=\"heading\">Create new lecture</label>\n            <div className=\"input-btn\">\n                <input type=\"text\" value={lecName} onChange={(c) => setLecName(c.target.value)} className=\"new-lec\" placeholder=\"Enter Lecture Name    ex. CSE1/lec2/March/14\" />\n                <button onClick={() => {// Lec create krna padega...\n                    var collectionRef = collection(db, 'classes');\n                    console.log(document.id);\n                    addDoc(collectionRef, {\n                        name: lecName,\n                        live: true,\n                        createdOn: Timestamp.now(),\n                        attendees: {}\n                    }).then((docRef) => {\n                        console.log(docRef);\n                        onCreate(lecName, docRef.id);\n                    });\n                }}> Create Class</button>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Create\n","import React, { useEffect, useState } from 'react'\nimport { getFirestore, collection, orderBy, query, onSnapshot, Timestamp } from 'firebase/firestore';\n\nconst Record = () => {\n\n    const db = getFirestore();\n    const [data, setData] = useState([]);\n\n    useEffect(() => {\n\n        var q = query(collection(db, 'classes'), orderBy('createdOn', 'desc'));\n        onSnapshot(q, (d) => {\n            var arr = [];\n            d.docs.map((d) => arr.push(d.data()));\n            setData(arr);\n            console.log(d.docs.length);\n        });\n\n    }, [])\n\n\n    console.log(data);\n\n    return (\n        <div className=\"record\">\n            <span className=\"heading\">Class Records</span>\n            <div className=\"class-record\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Date and Time</th>\n                            <th>Lecture Name</th>\n                            <th>Attendance</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {data.map((d) =>\n                            <tr>\n                                <td data-column=\"Date and Time\">{d['createdOn'].toDate().toLocaleString()}</td>\n                                <td data-column=\"Lecture Name\">{d['name']}</td>\n                                <td data-column=\"Attendance\">{Object.keys(d['attendees']).length}</td>\n\n                            </tr>\n                        )}\n\n                    </tbody>\n                </table>\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default Record\n","import { useState, useEffect } from \"react\";\nimport QRCode from \"react-qr-code\";\n\nimport { getDoc, getFirestore, collection, doc, onSnapshot, addDoc, updateDoc, Timestamp } from 'firebase/firestore';\n\nimport './class.css';\n\nconst Class = ({ lecName, lecID, onClose }) => {\n\n  const db = getFirestore();\n  const [token, setToken] = useState(\"\");\n\n  useEffect(() => {\n    var t = generate_token(32);\n    const classesCol = collection(db, 'classes');\n\n    onSnapshot(doc(classesCol, lecID), (doc) => {\n      var data = doc.data();\n      if (data['attendees'] !== undefined) {\n        if (data['attendees'][t] !== undefined) {\n          console.log('yes');\n          if (data['attendees'][t]['used'] === true) {\n            t = generate_token(32);\n          }\n        } else {\n          console.log('no');\n        }\n      }\n    });\n  }, []);\n\n  function generate_token(length) {\n    //edit the token allowed characters\n    var a = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890\".split(\"\");\n    var b = [];\n    for (var i = 0; i < length; i++) {\n      var j = (Math.random() * (a.length - 1)).toFixed(0);\n      b[i] = a[j];\n    }\n    var token = b.join(\"\");\n    console.log(token);\n    // Upload token to server.\n    const document = doc(collection(db, 'classes'), lecID);\n    updateDoc(document, {\n      [`attendees.${token}`]: {\n        used: false,\n      }\n    });\n    setToken(token);\n    return token;\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"header\">\n        <h1>Attendo - {lecName}</h1>\n      </div>\n      <div className=\"qrCode\">\n        <QRCode value={token} />\n      </div>\n\n      <button onClick={() => {\n        const document = doc(collection(db, 'classes'), lecID);\n        updateDoc(document, {\n          live: false,\n        });\n        onClose();\n      }}>End Class</button>\n    </div>\n  );\n}\n\nexport default Class;\n","import React, { useState } from 'react'\nimport Create from './Create'\nimport Record from './Record'\nimport Class from \"./Class\"\n\nconst Hero = ({ log, setLog }) => {\n\n    const [currentLecName, setCurrentLecName] = useState([]);\n\n    return currentLecName.length > 0 ? <Class lecName={currentLecName[0]} lecID={currentLecName[1]} onClose={() => {\n        setCurrentLecName([]);\n    }} /> : (\n        <section className=\"hero\">\n            <nav>\n                <h2>Welcome, Sushil Kumar</h2>\n                <button onClick={() => setLog(!log)}>Logout</button>\n            </nav>\n\n            <Create onCreate={(lecName, lecId) => {\n                setCurrentLecName([lecName, lecId]);\n            }} /><br />\n            <Record />\n\n        </section>\n    )\n}\n\nexport default Hero\n\n","import { useState } from 'react'\nimport React from 'react'\n\n\nconst Login = (props) => {\n\n    const [error,setError] = useState(false)\n\n    const { email, setEmail, password, setPassword,log, setLog} = props\n    return (\n        <section className = \"login\">\n            <div className=\"loginContainer\">\n                <label>Email</label>\n                <input type=\"text\" autoFocus required value={email} onChange={(e) => setEmail(e.target.value)}/>\n\n\n                <label >Password</label>\n                <input type=\"password\" required value={password} onChange={(e) => setPassword(e.target.value)}/>\n\n    \n                {\n                    error ? (<p className = \"err\">Error : Email or password is wrong</p>) : (<span></span>)\n                }\n\n\n                <div className=\"btnContainer\">\n                    <button onClick = {() => {\n                        if(email === \"admin@school.com\" && password === \"123456\"){\n                            setLog(!log);\n                        } else {\n                            if(!error){\n                                setError(!error)\n                            }\n                \n                        }\n                    }}>Sign in</button>\n                </div>\n\n            </div>\n\n\n        </section>\n    )\n}\n\nexport default Login\n","import {useState} from \"react\"\nimport './App.css';\n// import Class from \"./Class\";\nimport Hero from \"./Hero\";\nimport Login from './Login.js';\n\n\n\n\nconst App = () => {\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [log, setLog] = useState(false)\n\n  \n  return (\n    <div className=\"App\">\n    {log ? (\n      <Hero setLog={setLog} log={log} />\n      // <Class lecID=\"z7eydjQbpZKGYQTtYdGX\" />\n    ):(\n      <Login email={email} setEmail={setEmail} password={password} setPassword = {setPassword} log={log} setLog= {setLog}/> \n    )\n    }\n      \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDN2-DkcxPFoSyAbkINJcZCCvtz7w0WdlE\",\n  authDomain: \"attendo-41b02.firebaseapp.com\",\n  projectId: \"attendo-41b02\",\n  storageBucket: \"attendo-41b02.appspot.com\",\n  messagingSenderId: \"57090708182\",\n  appId: \"1:57090708182:web:af81dfc851bbcbf1dbef77\",\n  measurementId: \"G-NDDGY879K5\"\n};\n\n// Initialize Firebase\ninitializeApp(firebaseConfig);\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}