(this["webpackJsonpattento-client"]=this["webpackJsonpattento-client"]||[]).push([[0],{43:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(10),s=c.n(n),a=c(24),r=c.n(a),j=c(11),l=(c(43),c(12)),o=c(4),d=function(e){var t=e.onCreate,c=Object(n.useState)(""),s=Object(j.a)(c,2),a=s[0],r=s[1],d=Object(l.e)();return Object(o.jsxs)("div",{className:"new-lecture",children:[Object(o.jsx)("label",{className:"heading",children:"Create new lecture"}),Object(o.jsxs)("div",{className:"input-btn",children:[Object(o.jsx)("input",{type:"text",value:a,onChange:function(e){return r(e.target.value)},className:"new-lec",placeholder:"Enter Lecture Name    ex. CSE1/lec2/March/14"}),Object(o.jsx)("button",{onClick:function(){var e=Object(l.c)(d,"classes");console.log(document.id),Object(l.b)(e,{name:a,live:!0,createdOn:l.a.now(),attendees:{}}).then((function(e){console.log(e),t(a,e.id)}))},children:" Create Class"})]})]})},i=c(18),b=Object(n.forwardRef)((function(e,t){var c=s.a.useState(!1),a=Object(j.a)(c,2),l=a[0],d=a[1];Object(n.useImperativeHandle)(t,(function(){return{openModal:function(){return i()},close:function(){return b()}}}));var i=function(){d(!0)},b=function(){d(!1)};return l?r.a.createPortal(Object(o.jsxs)("div",{className:"modal-wrapper",children:[Object(o.jsx)("div",{onClick:b,className:"modal-backdrop"}),Object(o.jsx)("div",{className:"modal-box",children:e.children})]}),document.getElementById("modal-root")):null})),O=c(38),u=function(e){var t=e.time,c=e.name,s=e.attendance,a=Object(n.useRef)();console.log("attendance: ",s);for(var r=0,j=Object.keys(s);r<j.length;r++){var l=j[r];!1===s[l].used&&delete s[l]}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("td",{"data-column":"Date and Time",children:t.toDate().toLocaleString()}),Object(o.jsx)("td",{"data-column":"Lecture Name",children:c}),Object(o.jsx)("td",{"data-column":"Attendance",children:Object.keys(s).length}),Object(o.jsxs)("td",{children:[" ",Object(o.jsx)("button",{className:"view-btn",onClick:function(){a.current.openModal()},children:Object(o.jsx)(O.a,{})})]}),Object(o.jsxs)(b,{ref:a,children:[Object(o.jsx)("span",{className:"close",onClick:function(){return a.current.close()},children:"x"}),Object(o.jsx)("h1",{children:c}),Object(o.jsx)("h5",{children:t.toDate().toLocaleString()}),Object(o.jsx)("br",{}),Object(o.jsxs)("table",{children:[Object(o.jsxs)("thead",{children:[Object(o.jsx)("th",{children:"Enrollment No."}),Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"Marked On"})]}),Object(o.jsx)("tbody",{children:Object(i.a)(Object.keys(s)).map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:s[e].studentEnr}),Object(o.jsx)("td",{children:s[e].studentName}),Object(o.jsx)("td",{children:void 0!==s[e].markedOn?s[e].markedOn.toDate().toLocaleString():""})]})}))})]}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:function(){return a.current.close()},children:"Close Modal"})]})]})},h=function(){var e=Object(l.e)(),t=Object(n.useState)([]),c=Object(j.a)(t,2),s=c[0],a=c[1];return Object(n.useEffect)((function(){var t=Object(l.h)(Object(l.c)(e,"classes"),Object(l.g)("createdOn","desc"));Object(l.f)(t,(function(e){var t=[];e.docs.map((function(e){return t.push(e.data())})),a(t),console.log(e.docs.length)}))}),[]),console.log(s),Object(o.jsxs)("div",{className:"record",children:[Object(o.jsx)("span",{className:"heading",children:"Class Records"}),Object(o.jsx)("div",{className:"class-record",children:Object(o.jsxs)("table",{children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Date and Time"}),Object(o.jsx)("th",{children:"Lecture Name"}),Object(o.jsx)("th",{children:"Attendance"}),Object(o.jsx)("th",{children:"View"})]})}),Object(o.jsx)("tbody",{children:s.map((function(e){return Object(o.jsx)("tr",{children:Object(o.jsx)(u,{time:e.createdOn,name:e.name,attendance:e.attendees},e.createdOn)})}))})]})})]})},x=c(8),m=c(36),f=c.n(m),v=(c(56),function(e){var t=e.lecName,c=e.lecID,s=e.onClose,a=Object(l.e)(),r=Object(n.useState)(""),d=Object(j.a)(r,2),i=d[0],b=d[1];function O(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".split(""),n=[],s=0;s<e;s++){var r=(Math.random()*(t.length-1)).toFixed(0);n[s]=t[r]}var j=n.join("");console.log(j);var o=Object(l.d)(Object(l.c)(a,"classes"),c);return Object(l.i)(o,Object(x.a)({},"attendees.".concat(j),{used:!1})),b(j),j}return Object(n.useEffect)((function(){var e=O(32),t=Object(l.c)(a,"classes");Object(l.f)(Object(l.d)(t,c),(function(t){var c=t.data();void 0!==c.attendees&&(void 0!==c.attendees[e]?(console.log("yes"),!0===c.attendees[e].used&&(e=O(32))):console.log("no"))}))}),[]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("div",{className:"header",children:Object(o.jsxs)("h1",{children:["Attendo - ",t]})}),Object(o.jsx)("div",{className:"qrCode",children:Object(o.jsx)(f.a,{value:i})}),Object(o.jsx)("button",{onClick:function(){var e=Object(l.d)(Object(l.c)(a,"classes"),c);Object(l.i)(e,{live:!1}),s()},children:"End Class"})]})}),p=function(e){var t=e.log,c=e.setLog,s=Object(n.useState)([]),a=Object(j.a)(s,2),r=a[0],l=a[1];return r.length>0?Object(o.jsx)(v,{lecName:r[0],lecID:r[1],onClose:function(){l([])}}):Object(o.jsxs)("section",{className:"hero",children:[Object(o.jsxs)("nav",{children:[Object(o.jsx)("h2",{children:"Welcome, Sushil Kumar"}),Object(o.jsx)("button",{onClick:function(){return c(!t)},children:"Logout"})]}),Object(o.jsx)(d,{onCreate:function(e,t){l([e,t])}}),Object(o.jsx)("br",{}),Object(o.jsx)(h,{})]})},g=function(e){var t=Object(n.useState)(!1),c=Object(j.a)(t,2),s=c[0],a=c[1],r=e.email,l=e.setEmail,d=e.password,i=e.setPassword,b=e.log,O=e.setLog;return Object(o.jsx)("section",{className:"login",children:Object(o.jsxs)("div",{className:"loginContainer",children:[Object(o.jsx)("label",{children:"Email"}),Object(o.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:r,onChange:function(e){return l(e.target.value)}}),Object(o.jsx)("label",{children:"Password"}),Object(o.jsx)("input",{type:"password",required:!0,value:d,onChange:function(e){return i(e.target.value)}}),s?Object(o.jsx)("p",{className:"err",children:"Error : Email or password is wrong"}):Object(o.jsx)("span",{}),Object(o.jsx)("div",{className:"btnContainer",children:Object(o.jsx)("button",{onClick:function(){"admin@school.com"===r&&"123456"===d?O(!b):s||a(!s)},children:"Sign in"})})]})})},N=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(j.a)(a,2),l=r[0],d=r[1],i=Object(n.useState)(!1),b=Object(j.a)(i,2),O=b[0],u=b[1];return Object(o.jsx)("div",{className:"App",children:O?Object(o.jsx)(p,{setLog:u,log:O}):Object(o.jsx)(g,{email:c,setEmail:s,password:l,setPassword:d,log:O,setLog:u})})},C=c(37);Object(C.a)({apiKey:"AIzaSyDN2-DkcxPFoSyAbkINJcZCCvtz7w0WdlE",authDomain:"attendo-41b02.firebaseapp.com",projectId:"attendo-41b02",storageBucket:"attendo-41b02.appspot.com",messagingSenderId:"57090708182",appId:"1:57090708182:web:af81dfc851bbcbf1dbef77",measurementId:"G-NDDGY879K5"}),r.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(N,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.f3d6a1c6.chunk.js.map